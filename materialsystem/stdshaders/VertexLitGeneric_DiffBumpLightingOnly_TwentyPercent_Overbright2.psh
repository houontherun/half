ps.1.1

; base texture
tex t0

; normalmap
tex t1

; rgb - color for first axis - gamma converted to 2.2 in the vertex shader
texcoord t2

; rgb - color for second axis - gamma converted to 2.2 in the vertex shader
texcoord t3

; v0.rgb : color for third axis - gamma converted to 2.2 in the vertex shader

; c0, c1, c2 - Axes of the lightmap coordinate system in tangent space 

dp3_sat r1, t1_bx2, c0
mul r0.rgba, r1, t2

dp3_sat r1, t1_bx2, c1
mad r0.rgb, r1, t3, r0

dp3_sat r1, t1_bx2, c2
mad r0.rgb, r1, v0, r0

;mov r0.rgb, v0
;mov r0.rgb, t2
;mov r0.rgb, t3
